---
title: "PSY8712-Week12"
author: "Mackenzie R Nickle"
date: "2024-04-18"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Script Settings and Resources
```{r}
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
library(tidyverse)
library(tidytext)
library(wordcloud)
library(topicmodels)
library(tm)
library(RedditExtractoR)
library(ldatuning)
library(dendextend)
library(textstem)
library(rJava)
library(qdap)
```


Data Import and Cleaning
```{r}
#getting urls
#reddit_thread_urls <- find_thread_urls(
 # subreddit= "IOPsychology",
 # sort_by= "new",
 # period= "year"
#) %>%
 # mutate(date_utc=ymd(date_utc))
#write_csv(reddit_thread_urls, file = "../data/reddit_thread_urls.csv")
#specifying urls for the past year
#thread_urls2 <- filter(reddit_thread_urls, timestamp > as.numeric(as.POSIXct(Sys.Date()-365)))
#nrow(thread_urls2)
#write_csv(thread_urls2, file="../data/thread_urls2.csv")
#getting content
#reddit_content <- get_thread_content(thread_urls2$url)
#saveRDS(reddit_content, file= "../data/reddit_content.RDS")
###making the reddit tibble
#week12_tbl <- tibble(
  #title = reddit_content$threads$title,
 # upvotes = reddit_content$threads$upvotes
#)
#write_csv(week12_tbl, file= "../data/week12_tbl.csv")

##reimporting just the previously created csv file for week12_tbl

week12_tbl <- read_csv("../data/week12_tbl.csv")

##creating corpus

io_corpus_original <- VCorpus(VectorSource(week12_tbl$title)) #using data camp procedures

io_corpus <- io_corpus_original %>% 
  tm_map(content_transformer(str_to_lower)) %>% #making all words lowercase so I don't have to specify IO vs io
  tm_map(removePunctuation) %>% #removing punctuation so I don't have to deal with punctuation when getting rid of io psych 
  tm_map(stripWhitespace) %>% #removing extra white space
  tm_map(removeNumbers) %>% #removing numbers because we don't need these for this analysis
  tm_map(removeWords, c("io", "iopsychology", "iopsychologist", "io psych", "riopsychology", "iopsychologists", "riopsychologists", "industrial organizational psychology", "industrial organizational psych", "io psychs", "psychology", "psych")) %>% 
  tm_map(removeWords, stopwords("en"))  #removing normal english stopwords. did this after removing the io stuff because it was getting rid of i's 
#did not include replace_abbreviations or replace_contractions because it was messing with things

compare_them <- function
```


Visualization

Analysis
